<script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuToggle = document.querySelector('.menu-toggle');
    const navUl      = document.querySelector('.site-header nav ul');
    const header     = document.querySelector('.site-header');
    const footer     = document.querySelector('.site-footer');

    // Abre/cierra menú y ajusta tamaño de cada ítem
    function toggleMenu() {
      navUl.classList.toggle('show');
      document.body.classList.toggle('menu-open');
      menuToggle.textContent = navUl.classList.contains('show') ? '✕' : '☰';
      if (navUl.classList.contains('show')) ajustarAlturaItems();
      else resetAlturaItems();
    }

    // Calcula y asigna altura a cada <li> en mobile
    function ajustarAlturaItems() {
      const ventanaH = window.innerHeight;
      const usedH    = header.offsetHeight + footer.offsetHeight;
      const availableH = ventanaH - usedH;
      const items = navUl.querySelectorAll('li');
      const itemH  = Math.floor(availableH / items.length);

      items.forEach(li => {
        li.style.height    = itemH + 'px';
        li.style.lineHeight = itemH + 'px';    // centra el texto verticalmente
      });
    }

    // Elimina los estilos inline cuando se cierra el menú
    function resetAlturaItems() {
      navUl.querySelectorAll('li').forEach(li => {
        li.style.height    = '';
        li.style.lineHeight = '';
      });
    }

    // Reajusta si giras o cambias tamaño con menú abierto
    window.addEventListener('resize', () => {
      if (navUl.classList.contains('show')) ajustarAlturaItems();
    });

    // Listener de click
    menuToggle.addEventListener('click', toggleMenu);
  });
</script>
